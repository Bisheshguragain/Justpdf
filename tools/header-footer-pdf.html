<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Header & Footer to PDF Online Free - PDF Header Footer Tool | JustPdf</title>
  <meta name="description" content="Add custom headers and footers to your PDF documents online. Free PDF header footer tool with page numbers, dates, and custom text. No registration required.">
  <meta property="og:title" content="Add Header & Footer to PDF - Professional PDF Tool">
  <meta property="og:description" content="Add headers, footers, and page numbers to your PDF files online for free.">
  <meta property="og:url" content="https://justpdf.net/tools/header-footer-pdf/">
  <meta property="og:type" content="website">
  <link rel="canonical" href="https://justpdf.net/tools/header-footer-pdf/">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "How do I add headers and footers to a PDF?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Upload your PDF, enable header and/or footer, enter your custom text with variables like {page} and {date}, customize the style (font size, color, margins), preview the changes, and click Apply & Download to save your PDF with headers and footers."
        }
      },
      {
        "@type": "Question",
        "name": "Can I add page numbers to my PDF?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! Use {page} for the current page number and {total} for total pages. For example: 'Page {page} of {total}' will show 'Page 1 of 10' on each page."
        }
      },
      {
        "@type": "Question",
        "name": "Is this header footer tool free?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, JustPdf offers unlimited free PDF header and footer additions with no watermarks, no file size limits, and no registration required. All processing happens in your browser for complete privacy."
        }
      },
      {
        "@type": "Question",
        "name": "Can I add different headers on different pages?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Currently, the tool applies the same header and footer design to all pages, but you can use dynamic variables like {page}, {total}, and {date} to automatically display different values on each page."
        }
      }
    ]
  }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body class="bg-gray-50">
  <!-- Navigation -->
  <nav class="bg-white shadow-sm py-4 px-6 flex justify-between items-center">
    <a href="/" class="flex items-center">
      <span class="font-bold text-2xl text-green-700">JustPdf</span>
    </a>
    <ul class="flex space-x-6 text-gray-700 text-base">
      <li><a href="/" class="hover:text-green-700 transition font-semibold">All Tools</a></li>
      <li><a href="/about.html" class="hover:text-green-700 transition">About</a></li>
    </ul>
  </nav>

  <main class="max-w-6xl mx-auto px-4 py-12">
    <h1 class="text-4xl font-bold text-gray-800 mb-4 text-center">Add Header & Footer to PDF</h1>
    <p class="text-gray-600 text-center mb-8">Add custom headers, footers, and page numbers to your PDF documents</p>

    <!-- Upload Area -->
    <div id="uploadArea" class="border-2 border-dashed border-gray-300 rounded-lg p-12 text-center mb-6 bg-white hover:border-green-500 transition cursor-pointer">
      <div class="text-6xl mb-4">üìÑ</div>
      <h2 class="text-xl font-semibold text-gray-700 mb-2">Select PDF File</h2>
      <p class="text-gray-500 mb-4">Drag and drop a file here or click to browse</p>
      <input type="file" id="fileInput" accept=".pdf" class="hidden">
      <button id="selectBtn" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition font-semibold">
        Select File
      </button>
    </div>

    <!-- Editor Container -->
    <div id="editorContainer" class="hidden">
      <!-- Configuration Panel -->
      <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
        <h3 class="text-xl font-bold text-gray-800 mb-4">Header & Footer Settings</h3>
        
        <!-- Tabs -->
        <div class="flex gap-4 mb-6 border-b">
          <button id="headerTab" class="tab-btn px-4 py-2 border-b-2 border-green-600 text-green-600 font-semibold">
            Header
          </button>
          <button id="footerTab" class="tab-btn px-4 py-2 text-gray-600 hover:text-gray-800">
            Footer
          </button>
        </div>

        <!-- Header Settings -->
        <div id="headerSettings" class="settings-panel">
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Enable Header -->
            <div class="col-span-2">
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" id="enableHeader" class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                <span class="font-semibold text-gray-700">Enable Header</span>
              </label>
            </div>

            <!-- Left Text -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Left Text</label>
              <input type="text" id="headerLeft" placeholder="e.g., Company Name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
              <p class="text-xs text-gray-500 mt-1">Use {page} for page number, {date} for current date</p>
            </div>

            <!-- Center Text -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Center Text</label>
              <input type="text" id="headerCenter" placeholder="e.g., Document Title" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
            </div>

            <!-- Right Text -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Right Text</label>
              <input type="text" id="headerRight" placeholder="e.g., Page {page}" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
            </div>

            <!-- Font Size -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Font Size</label>
              <select id="headerFontSize" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                <option value="8">8pt</option>
                <option value="10" selected>10pt</option>
                <option value="12">12pt</option>
                <option value="14">14pt</option>
                <option value="16">16pt</option>
              </select>
            </div>

            <!-- Font Color -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Text Color</label>
              <div class="flex gap-2">
                <input type="color" id="headerColor" value="#000000" class="h-10 w-16 border border-gray-300 rounded cursor-pointer">
                <input type="text" id="headerColorHex" value="#000000" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm" readonly>
              </div>
            </div>

            <!-- Margin Top -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Top Margin (px)</label>
              <input type="number" id="headerMarginTop" value="20" min="0" max="100" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
            </div>

            <!-- Font Weight -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Font Weight</label>
              <select id="headerFontWeight" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                <option value="normal">Normal</option>
                <option value="bold">Bold</option>
              </select>
            </div>

            <!-- Background Color -->
            <div class="col-span-2">
              <label class="flex items-center gap-2 cursor-pointer mb-2">
                <input type="checkbox" id="headerBgEnable" class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                <span class="text-sm font-semibold text-gray-700">Enable Background</span>
              </label>
              <div id="headerBgOptions" class="gap-2" style="display: none;">
                <input type="color" id="headerBgColor" value="#f3f4f6" class="h-10 w-16 border border-gray-300 rounded cursor-pointer">
                <input type="text" id="headerBgColorHex" value="#f3f4f6" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm" readonly>
                <div class="flex items-center gap-2">
                  <label class="text-sm text-gray-700">Opacity:</label>
                  <input type="range" id="headerBgOpacity" value="50" min="0" max="100" class="w-24">
                  <span id="headerBgOpacityValue" class="text-sm text-gray-700 w-10">50%</span>
                </div>
              </div>
            </div>

            <!-- Border Line -->
            <div class="col-span-2">
              <label class="flex items-center gap-2 cursor-pointer mb-2">
                <input type="checkbox" id="headerBorderEnable" class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                <span class="text-sm font-semibold text-gray-700">Add Bottom Border Line</span>
              </label>
              <div id="headerBorderOptions" class="md:grid-cols-3 gap-4" style="display: none;">
                <div>
                  <label class="block text-xs text-gray-600 mb-1">Line Style</label>
                  <select id="headerBorderStyle" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                    <option value="solid">Solid</option>
                    <option value="dashed">Dashed</option>
                    <option value="dotted">Dotted</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-gray-600 mb-1">Line Width (px)</label>
                  <input type="number" id="headerBorderWidth" value="1" min="1" max="10" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                </div>
                <div>
                  <label class="block text-xs text-gray-600 mb-1">Line Color</label>
                  <input type="color" id="headerBorderColor" value="#e5e7eb" class="h-9 w-full border border-gray-300 rounded cursor-pointer">
                </div>
              </div>
            </div>

            <!-- Text Alignment -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Left Align</label>
              <select id="headerLeftAlign" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                <option value="left">Left</option>
                <option value="center">Center</option>
                <option value="right">Right</option>
              </select>
            </div>

            <!-- Padding -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Horizontal Padding (px)</label>
              <input type="number" id="headerPadding" value="40" min="10" max="100" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
            </div>
          </div>
        </div>

        <!-- Footer Settings -->
        <div id="footerSettings" class="settings-panel hidden">
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Enable Footer -->
            <div class="col-span-2">
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" id="enableFooter" class="w-5 h-5 text-green-600 rounded focus:ring-green-500" checked>
                <span class="font-semibold text-gray-700">Enable Footer</span>
              </label>
            </div>

            <!-- Left Text -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Left Text</label>
              <input type="text" id="footerLeft" placeholder="e.g., {date}" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
              <p class="text-xs text-gray-500 mt-1">Use {page} for page number, {date} for current date</p>
            </div>

            <!-- Center Text -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Center Text</label>
              <input type="text" id="footerCenter" placeholder="e.g., Confidential" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
            </div>

            <!-- Right Text -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Right Text</label>
              <input type="text" id="footerRight" value="Page {page} of {total}" placeholder="e.g., Page {page} of {total}" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
            </div>

            <!-- Font Size -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Font Size</label>
              <select id="footerFontSize" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                <option value="8">8pt</option>
                <option value="10" selected>10pt</option>
                <option value="12">12pt</option>
                <option value="14">14pt</option>
                <option value="16">16pt</option>
              </select>
            </div>

            <!-- Font Color -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Text Color</label>
              <div class="flex gap-2">
                <input type="color" id="footerColor" value="#000000" class="h-10 w-16 border border-gray-300 rounded cursor-pointer">
                <input type="text" id="footerColorHex" value="#000000" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm" readonly>
              </div>
            </div>

            <!-- Margin Bottom -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Bottom Margin (px)</label>
              <input type="number" id="footerMarginBottom" value="20" min="0" max="100" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
            </div>

            <!-- Font Weight -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Font Weight</label>
              <select id="footerFontWeight" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                <option value="normal">Normal</option>
                <option value="bold">Bold</option>
              </select>
            </div>

            <!-- Background Color -->
            <div class="col-span-2">
              <label class="flex items-center gap-2 cursor-pointer mb-2">
                <input type="checkbox" id="footerBgEnable" class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                <span class="text-sm font-semibold text-gray-700">Enable Background</span>
              </label>
              <div id="footerBgOptions" class="gap-2" style="display: none;">
                <input type="color" id="footerBgColor" value="#f3f4f6" class="h-10 w-16 border border-gray-300 rounded cursor-pointer">
                <input type="text" id="footerBgColorHex" value="#f3f4f6" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm" readonly>
                <div class="flex items-center gap-2">
                  <label class="text-sm text-gray-700">Opacity:</label>
                  <input type="range" id="footerBgOpacity" value="50" min="0" max="100" class="w-24">
                  <span id="footerBgOpacityValue" class="text-sm text-gray-700 w-10">50%</span>
                </div>
              </div>
            </div>

            <!-- Border Line -->
            <div class="col-span-2">
              <label class="flex items-center gap-2 cursor-pointer mb-2">
                <input type="checkbox" id="footerBorderEnable" class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                <span class="text-sm font-semibold text-gray-700">Add Top Border Line</span>
              </label>
              <div id="footerBorderOptions" class="md:grid-cols-3 gap-4" style="display: none;">
                <div>
                  <label class="block text-xs text-gray-600 mb-1">Line Style</label>
                  <select id="footerBorderStyle" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                    <option value="solid">Solid</option>
                    <option value="dashed">Dashed</option>
                    <option value="dotted">Dotted</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-gray-600 mb-1">Line Width (px)</label>
                  <input type="number" id="footerBorderWidth" value="1" min="1" max="10" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                </div>
                <div>
                  <label class="block text-xs text-gray-600 mb-1">Line Color</label>
                  <input type="color" id="footerBorderColor" value="#e5e7eb" class="h-9 w-full border border-gray-300 rounded cursor-pointer">
                </div>
              </div>
            </div>

            <!-- Text Alignment -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Left Align</label>
              <select id="footerLeftAlign" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                <option value="left">Left</option>
                <option value="center">Center</option>
                <option value="right">Right</option>
              </select>
            </div>

            <!-- Padding -->
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Horizontal Padding (px)</label>
              <input type="number" id="footerPadding" value="40" min="10" max="100" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-4 mt-6 pt-6 border-t">
          <button id="previewBtn" class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold">
            üëÅÔ∏è Preview
          </button>
          <button id="applyBtn" class="flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold">
            ‚úì Apply & Download
          </button>
        </div>
      </div>

      <!-- Preview Area -->
      <div class="bg-white rounded-lg shadow-lg p-4">
        <div class="flex justify-between items-center mb-4 pb-4 border-b">
          <h3 class="text-lg font-semibold text-gray-800">Preview</h3>
          <div class="flex gap-2">
            <button id="prevPage" class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition" disabled>
              ‚Üê Previous
            </button>
            <span id="pageInfo" class="px-4 py-2 text-gray-700 font-semibold">Page 1 of 1</span>
            <button id="nextPage" class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition" disabled>
              Next ‚Üí
            </button>
          </div>
        </div>

        <!-- Canvas Container -->
        <div id="canvasContainer" class="relative border border-gray-300 rounded-lg overflow-auto max-h-[700px] bg-gray-100 flex justify-center">
          <div class="relative inline-block">
            <canvas id="pdfCanvas" class="shadow-lg"></canvas>
            <div id="headerPreview" class="absolute left-0 right-0 pointer-events-none hidden"></div>
            <div id="footerPreview" class="absolute left-0 right-0 pointer-events-none hidden"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="fixed inset-0 bg-black bg-opacity-50 z-50 items-center justify-center" style="display: none;">
      <div class="bg-white rounded-lg p-8 max-w-sm mx-4">
        <div class="flex items-center gap-4">
          <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"></div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Processing PDF...</h3>
            <p class="text-gray-600 text-sm">Please wait</p>
          </div>
        </div>
      </div>
    </div>

    <!-- AdSense Unit 1 (After Upload Area) -->
    <div class="my-8 flex justify-center">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
           data-ad-slot="1234567890"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>

    <!-- SEO Content -->
    <article class="prose max-w-none mt-12 bg-white rounded-lg p-8 shadow-sm">
      <h2 class="text-3xl font-bold text-gray-800 mb-4">How to Add Headers and Footers to PDF Documents</h2>
      <p class="text-gray-700 mb-4">Adding professional headers and footers to your PDF documents has never been easier. Our free online tool allows you to customize every aspect of your PDF's headers and footers without installing any software.</p>
      
      <h3 class="text-2xl font-semibold text-gray-800 mb-3 mt-6">Step-by-Step Guide:</h3>
      <ol class="list-decimal list-inside space-y-2 text-gray-700 mb-6">
        <li><strong>Upload your PDF:</strong> Click "Select File" or drag and drop your PDF document</li>
        <li><strong>Enable header/footer:</strong> Check the boxes to enable header and/or footer sections</li>
        <li><strong>Enter custom text:</strong> Add text in left, center, or right positions</li>
        <li><strong>Use dynamic variables:</strong> Insert {page} for page numbers, {total} for total pages, {date} for current date</li>
        <li><strong>Customize appearance:</strong> Choose font size, color, and adjust margins</li>
        <li><strong>Preview your changes:</strong> Click "Preview" to see how it looks</li>
        <li><strong>Apply and download:</strong> Click "Apply & Download" to save your customized PDF</li>
      </ol>

      <h3 class="text-2xl font-semibold text-gray-800 mb-3 mt-8">Why Add Headers and Footers to Your PDFs?</h3>
      <p class="text-gray-700 mb-4">Headers and footers transform basic PDFs into professional, branded documents that are easier to navigate and reference. They're essential for business communications, legal documents, reports, and academic papers.</p>
      
      <div class="bg-gray-50 p-6 rounded-lg mb-6">
        <h4 class="font-semibold text-gray-800 mb-3">Key Benefits:</h4>
        <ul class="list-disc list-inside space-y-2 text-gray-700">
          <li><strong>Professional appearance:</strong> Add company logos, branding, and consistent formatting</li>
          <li><strong>Easy navigation:</strong> Page numbers help readers find and reference specific sections</li>
          <li><strong>Document tracking:</strong> Include dates, version numbers, and revision information</li>
          <li><strong>Legal compliance:</strong> Add confidentiality notices and copyright information</li>
          <li><strong>Improved organization:</strong> Display document titles, chapter names, and section headers</li>
          <li><strong>Brand consistency:</strong> Maintain corporate identity across all PDF documents</li>
        </ul>
      </div>

      <h3 class="text-2xl font-semibold text-gray-800 mb-3 mt-8">Powerful Dynamic Variables</h3>
      <p class="text-gray-700 mb-4">Our tool supports intelligent placeholders that automatically update based on each page:</p>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-6 mb-6">
        <ul class="space-y-3 text-gray-700">
          <li><strong>{"{page}"}:</strong> Displays the current page number (e.g., 1, 2, 3...)</li>
          <li><strong>{"{total}"}:</strong> Shows the total number of pages in the document</li>
          <li><strong>{"{date}"}:</strong> Inserts today's date in MM/DD/YYYY format</li>
        </ul>
        <p class="mt-4 text-gray-700"><strong>Example:</strong> "Page {"{page}"} of {"{total}"} - Printed on {"{date}"}" becomes "Page 5 of 20 - Printed on 01/04/2026"</p>
      </div>

      <h3 class="text-2xl font-semibold text-gray-800 mb-3 mt-8">Common Use Cases & Scenarios</h3>
      
      <div class="grid md:grid-cols-2 gap-6 mb-6">
        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">üìä Business Reports</h4>
          <p class="text-gray-700 text-sm">Add company names, report titles, page numbers, and dates to quarterly reports, financial statements, and business proposals.</p>
        </div>
        
        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">‚öñÔ∏è Legal Documents</h4>
          <p class="text-gray-700 text-sm">Include case numbers, document titles, confidentiality notices, and page numbering for contracts, briefs, and legal filings.</p>
        </div>
        
        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">üéì Academic Papers</h4>
          <p class="text-gray-700 text-sm">Add student names, course information, paper titles, and page numbers to theses, dissertations, and research papers.</p>
        </div>
        
        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">üìã Manuals & Guides</h4>
          <p class="text-gray-700 text-sm">Display chapter names, version numbers, copyright information, and page navigation for user manuals and instruction guides.</p>
        </div>
        
        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">üè¢ Corporate Documents</h4>
          <p class="text-gray-700 text-sm">Brand internal documents, policies, handbooks, and presentations with company headers and professional footers.</p>
        </div>
        
        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">üìÑ Invoices & Forms</h4>
          <p class="text-gray-700 text-sm">Add business information, document types, dates, and page numbers to invoices, purchase orders, and application forms.</p>
        </div>
      </div>

      <h3 class="text-2xl font-semibold text-gray-800 mb-3 mt-8">Advanced Features</h3>
      <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
        <li><strong>Free & unlimited:</strong> Add headers/footers to unlimited PDFs with no file size restrictions</li>
        <li><strong>Three-column layout:</strong> Place different text on left, center, and right of each header/footer</li>
        <li><strong>Full customization:</strong> Control font size (8pt-16pt), text color, and margin spacing</li>
        <li><strong>Live preview:</strong> See exactly how your headers/footers will look before applying</li>
        <li><strong>Separate controls:</strong> Configure headers and footers independently with different content</li>
        <li><strong>Privacy-first:</strong> All processing happens locally in your browser - files never uploaded</li>
        <li><strong>No watermarks:</strong> Your PDFs remain clean and professional</li>
        <li><strong>Instant processing:</strong> Apply changes and download in seconds</li>
      </ul>

      <h3 class="text-2xl font-semibold text-gray-800 mb-3 mt-8">Frequently Asked Questions</h3>
      
      <div class="space-y-6">
        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">How do I add page numbers to my PDF?</h4>
          <p class="text-gray-700">Simply enable the header or footer, enter {"{page}"} in any position (left, center, or right), and the tool will automatically number each page. For "Page X of Y" format, use "Page {"{page}"} of {"{total}"}".</p>
        </div>

        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">Can I add different headers on different pages?</h4>
          <p class="text-gray-700">Currently, the tool applies the same header and footer design to all pages, but the dynamic variables ({"{page}"}, {"{total}"}, {"{date}"}) automatically change on each page to show page-specific information.</p>
        </div>

        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">Is there a file size limit?</h4>
          <p class="text-gray-700">No! Since all processing happens in your browser, there are no file size limits. However, very large PDFs (100+ MB) may take longer to process depending on your device's performance.</p>
        </div>

        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">Will adding headers/footers increase my file size?</h4>
          <p class="text-gray-700">The file size increase is minimal (typically less than 1%) since we're only adding text elements. Your PDF quality and images remain unchanged.</p>
        </div>

        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">Can I use this for commercial purposes?</h4>
          <p class="text-gray-700">Yes! Our tool is completely free for both personal and commercial use. Add headers and footers to client documents, business reports, invoices, and any other commercial PDFs.</p>
        </div>

        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">What fonts are available?</h4>
          <p class="text-gray-700">The tool uses standard PDF fonts to ensure compatibility across all PDF readers. You can customize the font size (8-16pt) and color to match your branding.</p>
        </div>

        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">Is my PDF data secure?</h4>
          <p class="text-gray-700">Absolutely! All processing happens entirely in your browser using JavaScript. Your PDF never leaves your device, is never uploaded to our servers, and we cannot see or access your documents.</p>
        </div>

        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-semibold text-gray-800 mb-2">Can I adjust the position of headers and footers?</h4>
          <p class="text-gray-700">Yes! Use the margin settings to control the top margin for headers and bottom margin for footers. This allows you to position them exactly where you need them on the page.</p>
        </div>
      </div>

      <h3 class="text-2xl font-semibold text-gray-800 mb-3 mt-8">Professional Tips for Better Headers & Footers</h3>
      <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
        <li>Keep text concise - headers and footers should enhance, not clutter your document</li>
        <li>Use consistent formatting across all your organization's PDFs for brand recognition</li>
        <li>Place page numbers in the same position (usually center or right footer)</li>
        <li>Include dates on time-sensitive documents like reports and proposals</li>
        <li>Add confidentiality notices in footers for sensitive documents</li>
        <li>Use headers for document titles and footers for page numbers and dates</li>
        <li>Preview before applying to ensure text doesn't overlap with document content</li>
        <li>Choose font sizes that are readable but don't dominate the page (10-12pt recommended)</li>
        <li>Use neutral colors (black, dark gray) for professional documents</li>
        <li>For legal documents, follow your jurisdiction's formatting requirements</li>
      </ul>

      <h3 class="text-2xl font-semibold text-gray-800 mb-3 mt-8">Why Choose JustPdf Header & Footer Tool?</h3>
      <p class="text-gray-700 mb-4">Unlike expensive software like Adobe Acrobat that requires subscriptions, or online services that upload your documents to remote servers, JustPdf offers the perfect balance of power, convenience, and privacy. Our browser-based tool uses advanced client-side PDF manipulation to add headers and footers instantly without any uploads.</p>
      
      <p class="text-gray-700 mb-4">You get professional results with complete customization, dynamic variables for page numbers and dates, and live preview - all completely free with no registration. Whether you're adding page numbers to a thesis, branding corporate reports, or numbering legal documents, our tool delivers fast, reliable, and completely private PDF header and footer additions every time.</p>

      <p class="text-gray-700">Join thousands of users who trust JustPdf for their PDF header and footer needs. No downloads, no installation, no registration - just upload, customize, and download your professionally formatted PDF in seconds!</p>
    </article>

    <!-- AdSense Unit 2 (After SEO Content) -->
    <div class="mt-12 flex justify-center">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
           data-ad-slot="0987654321"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>

    <!-- Related Tools -->
    <section class="mt-12 bg-white rounded-lg p-8 shadow-sm">
      <h3 class="text-2xl font-bold mb-6 text-gray-800">Related PDF Tools</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <a href="/tools/watermark-pdf.html" class="block p-6 bg-gray-50 rounded-lg hover:shadow-lg transition border-2 border-transparent hover:border-green-500 text-center">
          <div class="text-3xl mb-2">üíß</div>
          <span class="font-semibold text-green-700">Watermark PDF</span>
        </a>
        <a href="/tools/fill-sign-pdf.html" class="block p-6 bg-gray-50 rounded-lg hover:shadow-lg transition border-2 border-transparent hover:border-green-500 text-center">
          <div class="text-3xl mb-2">‚úçÔ∏è</div>
          <span class="font-semibold text-green-700">Fill & Sign</span>
        </a>
        <a href="/tools/merge-pdf.html" class="block p-6 bg-gray-50 rounded-lg hover:shadow-lg transition border-2 border-transparent hover:border-green-500 text-center">
          <div class="text-3xl mb-2">üìÑ</div>
          <span class="font-semibold text-green-700">Merge PDF</span>
        </a>
        <a href="/compress-pdf.html" class="block p-6 bg-gray-50 rounded-lg hover:shadow-lg transition border-2 border-transparent hover:border-green-500 text-center">
          <div class="text-3xl mb-2">ÔøΩ</div>
          <span class="font-semibold text-green-700">Compress PDF</span>
        </a>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <!-- Universal Footer for JustPDF - Use this exact footer on ALL pages -->
<!-- Copy and paste this entire footer before </body> tag on every HTML page -->

<footer class="bg-gray-800 text-white py-8 mt-16">
  <div class="max-w-6xl mx-auto px-4">
    <!-- Main Footer Content -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
      <!-- About Section -->
      <div>
        <h3 class="font-bold text-lg mb-4 text-green-400">JustPdf</h3>
        <p class="text-gray-300 text-sm leading-relaxed">
          Free online PDF tools for everyone. Convert, edit, and manage your PDF files securely in your browser.
        </p>
      </div>
      
      <!-- Popular Tools -->
      <div>
        <h3 class="font-bold text-sm mb-4 text-gray-300">Popular Tools</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="/tools/word-to-pdf.html" class="text-gray-400 hover:text-green-400 transition">Word to PDF</a></li>
          <li><a href="/tools/excel-to-pdf.html" class="text-gray-400 hover:text-green-400 transition">Excel to PDF</a></li>
          <li><a href="/tools/ppt-to-pdf.html" class="text-gray-400 hover:text-green-400 transition">PPT to PDF</a></li>
          <li><a href="/tools/merge-pdf.html" class="text-gray-400 hover:text-green-400 transition">Merge PDF</a></li>
          <li><a href="/tools/compress-pdf.html" class="text-gray-400 hover:text-green-400 transition">Compress PDF</a></li>
        </ul>
      </div>
      
      <!-- More Tools -->
      <div>
        <h3 class="font-bold text-sm mb-4 text-gray-300">More Tools</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="/tools/split-pdf.html" class="text-gray-400 hover:text-green-400 transition">Split PDF</a></li>
          <li><a href="/tools/rotate-pdf.html" class="text-gray-400 hover:text-green-400 transition">Rotate PDF</a></li>
          <li><a href="/tools/pdf-editor.html" class="text-gray-400 hover:text-green-400 transition">Edit PDF</a></li>
          <li><a href="/tools/protect-pdf.html" class="text-gray-400 hover:text-green-400 transition">Protect PDF</a></li>
          <li><a href="/" class="text-gray-400 hover:text-green-400 transition">All Tools ‚Üí</a></li>
        </ul>
      </div>
      
      <!-- Company -->
      <div>
        <h3 class="font-bold text-sm mb-4 text-gray-300">Company</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="/about.html" class="text-gray-400 hover:text-green-400 transition">About Us</a></li>
          <li><a href="/contact.html" class="text-gray-400 hover:text-green-400 transition">Contact</a></li>
          <li><a href="/privacy-policy.html" class="text-gray-400 hover:text-green-400 transition">Privacy Policy</a></li>
          <li><a href="/terms-of-use.html" class="text-gray-400 hover:text-green-400 transition">Terms of Use</a></li>
        </ul>
      </div>
    </div>
    
    <!-- Divider -->
    <div class="border-t border-gray-700 pt-6">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <!-- Copyright -->
        <p class="text-gray-400 text-sm mb-4 md:mb-0">
          &copy; 2026 JustPdf.net - All rights reserved
        </p>
        
        <!-- Legal Links -->
        <div class="flex flex-wrap justify-center gap-6 text-sm">
          <a href="/privacy-policy.html" class="text-gray-400 hover:text-green-400 transition">Privacy Policy</a>
          <a href="/terms-of-use.html" class="text-gray-400 hover:text-green-400 transition">Terms of Use</a>
          <a href="/contact.html" class="text-gray-400 hover:text-green-400 transition">Contact</a>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- End of Universal Footer -->


  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script>
    // Configure PDF.js worker
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

    // State
    let pdfDoc = null;
    let pdfBytes = null;
    let currentPage = 1;
    let totalPages = 0;

    // Elements
    const uploadArea = document.getElementById('uploadArea');
    const fileInput = document.getElementById('fileInput');
    const selectBtn = document.getElementById('selectBtn');
    const editorContainer = document.getElementById('editorContainer');
    const canvas = document.getElementById('pdfCanvas');
    const ctx = canvas.getContext('2d');
    const prevPageBtn = document.getElementById('prevPage');
    const nextPageBtn = document.getElementById('nextPage');
    const pageInfo = document.getElementById('pageInfo');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const headerPreview = document.getElementById('headerPreview');
    const footerPreview = document.getElementById('footerPreview');

    // Tabs
    const headerTab = document.getElementById('headerTab');
    const footerTab = document.getElementById('footerTab');
    const headerSettings = document.getElementById('headerSettings');
    const footerSettings = document.getElementById('footerSettings');

    // Header inputs
    const enableHeader = document.getElementById('enableHeader');
    const headerLeft = document.getElementById('headerLeft');
    const headerCenter = document.getElementById('headerCenter');
    const headerRight = document.getElementById('headerRight');
    const headerFontSize = document.getElementById('headerFontSize');
    const headerColor = document.getElementById('headerColor');
    const headerColorHex = document.getElementById('headerColorHex');
    const headerMarginTop = document.getElementById('headerMarginTop');
    const headerFontWeight = document.getElementById('headerFontWeight');
    const headerBgEnable = document.getElementById('headerBgEnable');
    const headerBgOptions = document.getElementById('headerBgOptions');
    const headerBgColor = document.getElementById('headerBgColor');
    const headerBgColorHex = document.getElementById('headerBgColorHex');
    const headerBgOpacity = document.getElementById('headerBgOpacity');
    const headerBgOpacityValue = document.getElementById('headerBgOpacityValue');
    const headerBorderEnable = document.getElementById('headerBorderEnable');
    const headerBorderOptions = document.getElementById('headerBorderOptions');
    const headerBorderStyle = document.getElementById('headerBorderStyle');
    const headerBorderWidth = document.getElementById('headerBorderWidth');
    const headerBorderColor = document.getElementById('headerBorderColor');
    const headerLeftAlign = document.getElementById('headerLeftAlign');
    const headerPadding = document.getElementById('headerPadding');

    // Footer inputs
    const enableFooter = document.getElementById('enableFooter');
    const footerLeft = document.getElementById('footerLeft');
    const footerCenter = document.getElementById('footerCenter');
    const footerRight = document.getElementById('footerRight');
    const footerFontSize = document.getElementById('footerFontSize');
    const footerColor = document.getElementById('footerColor');
    const footerColorHex = document.getElementById('footerColorHex');
    const footerMarginBottom = document.getElementById('footerMarginBottom');
    const footerFontWeight = document.getElementById('footerFontWeight');
    const footerBgEnable = document.getElementById('footerBgEnable');
    const footerBgOptions = document.getElementById('footerBgOptions');
    const footerBgColor = document.getElementById('footerBgColor');
    const footerBgColorHex = document.getElementById('footerBgColorHex');
    const footerBgOpacity = document.getElementById('footerBgOpacity');
    const footerBgOpacityValue = document.getElementById('footerBgOpacityValue');
    const footerBorderEnable = document.getElementById('footerBorderEnable');
    const footerBorderOptions = document.getElementById('footerBorderOptions');
    const footerBorderStyle = document.getElementById('footerBorderStyle');
    const footerBorderWidth = document.getElementById('footerBorderWidth');
    const footerBorderColor = document.getElementById('footerBorderColor');
    const footerLeftAlign = document.getElementById('footerLeftAlign');
    const footerPadding = document.getElementById('footerPadding');

    // Buttons
    const previewBtn = document.getElementById('previewBtn');
    const applyBtn = document.getElementById('applyBtn');

    // File Upload
    selectBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      fileInput.click();
    });

    uploadArea.addEventListener('click', () => fileInput.click());

    uploadArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      uploadArea.classList.add('border-green-500', 'bg-green-50');
    });

    uploadArea.addEventListener('dragleave', () => {
      uploadArea.classList.remove('border-green-500', 'bg-green-50');
    });

    uploadArea.addEventListener('drop', async (e) => {
      e.preventDefault();
      uploadArea.classList.remove('border-green-500', 'bg-green-50');
      const file = e.dataTransfer.files[0];
      if (file && file.type === 'application/pdf') {
        await loadPDF(file);
      }
    });

    fileInput.addEventListener('change', async (e) => {
      const file = e.target.files[0];
      if (file) await loadPDF(file);
    });

    // Load PDF
    async function loadPDF(file) {
      try {
        pdfBytes = await file.arrayBuffer();
        const loadingTask = pdfjsLib.getDocument({ data: pdfBytes });
        pdfDoc = await loadingTask.promise;
        totalPages = pdfDoc.numPages;
        
        uploadArea.classList.add('hidden');
        editorContainer.classList.remove('hidden');
        
        await renderPage(1);
      } catch (error) {
        console.error('Error loading PDF:', error);
        alert('Failed to load PDF. Please try again.');
      }
    }

    // Render Page
    async function renderPage(pageNum) {
      const page = await pdfDoc.getPage(pageNum);
      const viewport = page.getViewport({ scale: 1.5 });
      
      canvas.width = viewport.width;
      canvas.height = viewport.height;
      
      await page.render({
        canvasContext: ctx,
        viewport: viewport
      }).promise;
      
      currentPage = pageNum;
      updatePageInfo();
      updatePreview();
    }

    // Update Page Info
    function updatePageInfo() {
      pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
      prevPageBtn.disabled = currentPage === 1;
      nextPageBtn.disabled = currentPage === totalPages;
    }

    // Navigation
    prevPageBtn.addEventListener('click', () => {
      if (currentPage > 1) renderPage(currentPage - 1);
    });

    nextPageBtn.addEventListener('click', () => {
      if (currentPage < totalPages) renderPage(currentPage + 1);
    });

    // Tab Switching
    headerTab.addEventListener('click', () => {
      headerTab.classList.add('border-green-600', 'text-green-600');
      footerTab.classList.remove('border-green-600', 'text-green-600');
      headerSettings.classList.remove('hidden');
      footerSettings.classList.add('hidden');
    });

    footerTab.addEventListener('click', () => {
      footerTab.classList.add('border-green-600', 'text-green-600');
      headerTab.classList.remove('border-green-600', 'text-green-600');
      footerSettings.classList.remove('hidden');
      headerSettings.classList.add('hidden');
    });

    // Color Picker Sync
    headerColor.addEventListener('input', (e) => {
      headerColorHex.value = e.target.value;
      updatePreview();
    });

    footerColor.addEventListener('input', (e) => {
      footerColorHex.value = e.target.value;
      updatePreview();
    });

    // Background Color Sync
    headerBgColor.addEventListener('input', (e) => {
      headerBgColorHex.value = e.target.value;
      updatePreview();
    });

    footerBgColor.addEventListener('input', (e) => {
      footerBgColorHex.value = e.target.value;
      updatePreview();
    });

    // Opacity Sliders
    headerBgOpacity.addEventListener('input', (e) => {
      headerBgOpacityValue.textContent = e.target.value + '%';
      updatePreview();
    });

    footerBgOpacity.addEventListener('input', (e) => {
      footerBgOpacityValue.textContent = e.target.value + '%';
      updatePreview();
    });

    // Toggle Background Options
    headerBgEnable.addEventListener('change', (e) => {
      headerBgOptions.style.display = e.target.checked ? 'flex' : 'none';
      updatePreview();
    });

    footerBgEnable.addEventListener('change', (e) => {
      footerBgOptions.style.display = e.target.checked ? 'flex' : 'none';
      updatePreview();
    });

    // Toggle Border Options
    headerBorderEnable.addEventListener('change', (e) => {
      headerBorderOptions.style.display = e.target.checked ? 'grid' : 'none';
      updatePreview();
    });

    footerBorderEnable.addEventListener('change', (e) => {
      footerBorderOptions.style.display = e.target.checked ? 'grid' : 'none';
      updatePreview();
    });

    // Update Preview on Any Change
    [enableHeader, headerLeft, headerCenter, headerRight, headerFontSize, headerMarginTop, headerFontWeight, headerLeftAlign, headerPadding,
     headerBorderStyle, headerBorderWidth,
     enableFooter, footerLeft, footerCenter, footerRight, footerFontSize, footerMarginBottom, footerFontWeight, footerLeftAlign, footerPadding,
     footerBorderStyle, footerBorderWidth]
      .forEach(input => {
        input.addEventListener('input', updatePreview);
      });

    // Preview Button
    previewBtn.addEventListener('click', updatePreview);

    // Update Preview
    function updatePreview() {
      const canvasRect = canvas.getBoundingClientRect();
      const canvasWidth = canvas.width;
      const canvasHeight = canvas.height;

      // Process text with variables
      function processText(text) {
        const currentDate = new Date().toLocaleDateString('en-US');
        return text
          .replace(/{page}/g, currentPage)
          .replace(/{total}/g, totalPages)
          .replace(/{date}/g, currentDate);
      }

      // Update Header Preview
      if (enableHeader.checked) {
        headerPreview.classList.remove('hidden');
        headerPreview.style.top = headerMarginTop.value + 'px';
        headerPreview.style.fontSize = headerFontSize.value + 'px';
        headerPreview.style.color = headerColor.value;
        headerPreview.style.fontWeight = headerFontWeight.value;
        headerPreview.style.padding = `8px ${headerPadding.value}px`;
        headerPreview.style.display = 'flex';
        headerPreview.style.justifyContent = 'space-between';
        headerPreview.style.alignItems = 'center';
        headerPreview.style.width = canvasWidth + 'px';
        
        // Background
        if (headerBgEnable.checked) {
          const opacity = headerBgOpacity.value / 100;
          const rgb = hexToRgbString(headerBgColor.value);
          headerPreview.style.backgroundColor = `rgba(${rgb}, ${opacity})`;
        } else {
          headerPreview.style.backgroundColor = 'transparent';
        }
        
        // Border
        if (headerBorderEnable.checked) {
          headerPreview.style.borderBottom = `${headerBorderWidth.value}px ${headerBorderStyle.value} ${headerBorderColor.value}`;
        } else {
          headerPreview.style.borderBottom = 'none';
        }
        
        headerPreview.innerHTML = `
          <span style="flex: 1; text-align: ${headerLeftAlign.value};">${processText(headerLeft.value)}</span>
          <span style="flex: 1; text-align: center;">${processText(headerCenter.value)}</span>
          <span style="flex: 1; text-align: right;">${processText(headerRight.value)}</span>
        `;
      } else {
        headerPreview.classList.add('hidden');
      }

      // Update Footer Preview
      if (enableFooter.checked) {
        footerPreview.classList.remove('hidden');
        footerPreview.style.bottom = footerMarginBottom.value + 'px';
        footerPreview.style.fontSize = footerFontSize.value + 'px';
        footerPreview.style.color = footerColor.value;
        footerPreview.style.fontWeight = footerFontWeight.value;
        footerPreview.style.padding = `8px ${footerPadding.value}px`;
        footerPreview.style.display = 'flex';
        footerPreview.style.justifyContent = 'space-between';
        footerPreview.style.alignItems = 'center';
        footerPreview.style.width = canvasWidth + 'px';
        
        // Background
        if (footerBgEnable.checked) {
          const opacity = footerBgOpacity.value / 100;
          const rgb = hexToRgbString(footerBgColor.value);
          footerPreview.style.backgroundColor = `rgba(${rgb}, ${opacity})`;
        } else {
          footerPreview.style.backgroundColor = 'transparent';
        }
        
        // Border
        if (footerBorderEnable.checked) {
          footerPreview.style.borderTop = `${footerBorderWidth.value}px ${footerBorderStyle.value} ${footerBorderColor.value}`;
        } else {
          footerPreview.style.borderTop = 'none';
        }
        
        footerPreview.innerHTML = `
          <span style="flex: 1; text-align: ${footerLeftAlign.value};">${processText(footerLeft.value)}</span>
          <span style="flex: 1; text-align: center;">${processText(footerCenter.value)}</span>
          <span style="flex: 1; text-align: right;">${processText(footerRight.value)}</span>
        `;
      } else {
        footerPreview.classList.add('hidden');
      }
    }

    // Helper function to convert hex to RGB string
    function hexToRgbString(hex) {
      const r = parseInt(hex.slice(1, 3), 16);
      const g = parseInt(hex.slice(3, 5), 16);
      const b = parseInt(hex.slice(5, 7), 16);
      return `${r}, ${g}, ${b}`;
    }

    // Apply and Download
    applyBtn.addEventListener('click', async () => {
      try {
        loadingIndicator.style.display = 'flex';

        const pdfLibDoc = await PDFLib.PDFDocument.load(pdfBytes);
        const pages = pdfLibDoc.getPages();
        const currentDate = new Date().toLocaleDateString('en-US');

        // Helper function to process text
        function processText(text, pageNum) {
          return text
            .replace(/{page}/g, pageNum)
            .replace(/{total}/g, totalPages)
            .replace(/{date}/g, currentDate);
        }

        // Helper to convert hex color to RGB
        function hexToRgb(hex) {
          const r = parseInt(hex.slice(1, 3), 16) / 255;
          const g = parseInt(hex.slice(3, 5), 16) / 255;
          const b = parseInt(hex.slice(5, 7), 16) / 255;
          return PDFLib.rgb(r, g, b);
        }

        // Embed fonts once before processing pages
        const helvetica = await pdfLibDoc.embedFont(PDFLib.StandardFonts.Helvetica);
        const helveticaBold = await pdfLibDoc.embedFont(PDFLib.StandardFonts.HelveticaBold);

        // Apply header and footer to each page
        for (let index = 0; index < pages.length; index++) {
          const page = pages[index];
          const { width, height } = page.getSize();
          const pageNum = index + 1;

          // Add Header
          if (enableHeader.checked) {
            const headerFontSizeVal = parseInt(headerFontSize.value);
            const headerMarginTopVal = parseInt(headerMarginTop.value);
            const headerColorRgb = hexToRgb(headerColor.value);
            const headerPaddingVal = parseInt(headerPadding.value);
            const yPosition = height - headerMarginTopVal;
            
            // Add background
            if (headerBgEnable.checked) {
              const bgOpacity = parseFloat(headerBgOpacity.value) / 100;
              const bgRgb = hexToRgb(headerBgColor.value);
              page.drawRectangle({
                x: 0,
                y: yPosition - headerFontSizeVal - 8,
                width: width,
                height: headerFontSizeVal + 16,
                color: bgRgb,
                opacity: bgOpacity
              });
            }
            
            // Add border line
            if (headerBorderEnable.checked) {
              const borderColorRgb = hexToRgb(headerBorderColor.value);
              const borderWidthVal = parseInt(headerBorderWidth.value);
              const borderY = yPosition - headerFontSizeVal - 8;
              
              if (headerBorderStyle.value === 'solid') {
                page.drawLine({
                  start: { x: 0, y: borderY },
                  end: { x: width, y: borderY },
                  thickness: borderWidthVal,
                  color: borderColorRgb,
                  opacity: 1
                });
              } else if (headerBorderStyle.value === 'double') {
                page.drawLine({
                  start: { x: 0, y: borderY },
                  end: { x: width, y: borderY },
                  thickness: 1,
                  color: borderColorRgb,
                  opacity: 1
                });
                page.drawLine({
                  start: { x: 0, y: borderY - 3 },
                  end: { x: width, y: borderY - 3 },
                  thickness: 1,
                  color: borderColorRgb,
                  opacity: 1
                });
              } else if (headerBorderStyle.value === 'dashed') {
                const dashLength = 10;
                const gapLength = 5;
                for (let x = 0; x < width; x += dashLength + gapLength) {
                  page.drawLine({
                    start: { x: x, y: borderY },
                    end: { x: Math.min(x + dashLength, width), y: borderY },
                    thickness: borderWidthVal,
                    color: borderColorRgb,
                    opacity: 1
                  });
                }
              }
            }

            // Select font based on weight
            const selectedFont = headerFontWeight.value === 'bold' ? helveticaBold : helvetica;

            // Left text
            if (headerLeft.value) {
              const text = processText(headerLeft.value, pageNum);
              const textWidth = selectedFont.widthOfTextAtSize(text, headerFontSizeVal);
              const xPos = headerLeftAlign.value === 'left' ? headerPaddingVal :
                          headerLeftAlign.value === 'center' ? (width / 3 - textWidth) / 2 :
                          width / 3 - textWidth - 10;
              page.drawText(text, {
                x: xPos,
                y: yPosition,
                size: headerFontSizeVal,
                font: selectedFont,
                color: headerColorRgb
              });
            }

            // Center text
            if (headerCenter.value) {
              const text = processText(headerCenter.value, pageNum);
              const textWidth = selectedFont.widthOfTextAtSize(text, headerFontSizeVal);
              page.drawText(text, {
                x: (width - textWidth) / 2,
                y: yPosition,
                size: headerFontSizeVal,
                font: selectedFont,
                color: headerColorRgb
              });
            }

            // Right text
            if (headerRight.value) {
              const text = processText(headerRight.value, pageNum);
              const textWidth = selectedFont.widthOfTextAtSize(text, headerFontSizeVal);
              page.drawText(text, {
                x: width - textWidth - headerPaddingVal,
                y: yPosition,
                size: headerFontSizeVal,
                font: selectedFont,
                color: headerColorRgb
              });
            }
          }

          // Add Footer
          if (enableFooter.checked) {
            const footerFontSizeVal = parseInt(footerFontSize.value);
            const footerMarginBottomVal = parseInt(footerMarginBottom.value);
            const footerColorRgb = hexToRgb(footerColor.value);
            const footerPaddingVal = parseInt(footerPadding.value);
            const yPosition = footerMarginBottomVal;

            // Add background
            if (footerBgEnable.checked) {
              const bgOpacity = parseFloat(footerBgOpacity.value) / 100;
              const bgRgb = hexToRgb(footerBgColor.value);
              page.drawRectangle({
                x: 0,
                y: yPosition - 8,
                width: width,
                height: footerFontSizeVal + 16,
                color: bgRgb,
                opacity: bgOpacity
              });
            }
            
            // Add border line
            if (footerBorderEnable.checked) {
              const borderColorRgb = hexToRgb(footerBorderColor.value);
              const borderWidthVal = parseInt(footerBorderWidth.value);
              const borderY = yPosition + footerFontSizeVal + 8;
              
              if (footerBorderStyle.value === 'solid') {
                page.drawLine({
                  start: { x: 0, y: borderY },
                  end: { x: width, y: borderY },
                  thickness: borderWidthVal,
                  color: borderColorRgb,
                  opacity: 1
                });
              } else if (footerBorderStyle.value === 'double') {
                page.drawLine({
                  start: { x: 0, y: borderY },
                  end: { x: width, y: borderY },
                  thickness: 1,
                  color: borderColorRgb,
                  opacity: 1
                });
                page.drawLine({
                  start: { x: 0, y: borderY + 3 },
                  end: { x: width, y: borderY + 3 },
                  thickness: 1,
                  color: borderColorRgb,
                  opacity: 1
                });
              } else if (footerBorderStyle.value === 'dashed') {
                const dashLength = 10;
                const gapLength = 5;
                for (let x = 0; x < width; x += dashLength + gapLength) {
                  page.drawLine({
                    start: { x: x, y: borderY },
                    end: { x: Math.min(x + dashLength, width), y: borderY },
                    thickness: borderWidthVal,
                    color: borderColorRgb,
                    opacity: 1
                  });
                }
              }
            }

            // Select font based on weight
            const selectedFont = footerFontWeight.value === 'bold' ? helveticaBold : helvetica;

            // Left text
            if (footerLeft.value) {
              const text = processText(footerLeft.value, pageNum);
              const textWidth = selectedFont.widthOfTextAtSize(text, footerFontSizeVal);
              const xPos = footerLeftAlign.value === 'left' ? footerPaddingVal :
                          footerLeftAlign.value === 'center' ? (width / 3 - textWidth) / 2 :
                          width / 3 - textWidth - 10;
              page.drawText(text, {
                x: xPos,
                y: yPosition,
                size: footerFontSizeVal,
                font: selectedFont,
                color: footerColorRgb
              });
            }

            // Center text
            if (footerCenter.value) {
              const text = processText(footerCenter.value, pageNum);
              const textWidth = selectedFont.widthOfTextAtSize(text, footerFontSizeVal);
              page.drawText(text, {
                x: (width - textWidth) / 2,
                y: yPosition,
                size: footerFontSizeVal,
                font: selectedFont,
                color: footerColorRgb
              });
            }

            // Right text
            if (footerRight.value) {
              const text = processText(footerRight.value, pageNum);
              const textWidth = selectedFont.widthOfTextAtSize(text, footerFontSizeVal);
              page.drawText(text, {
                x: width - textWidth - footerPaddingVal,
                y: yPosition,
                size: footerFontSizeVal,
                font: selectedFont,
                color: footerColorRgb
              });
            }
          }
        }

        // Save and download
        const modifiedPdfBytes = await pdfLibDoc.save();
        const blob = new Blob([modifiedPdfBytes], { type: 'application/pdf' });
        const url = URL.createObjectURL(blob);
        
        const a = document.createElement('a');
        a.href = url;
        a.download = 'pdf-with-header-footer.pdf';
        a.click();

        loadingIndicator.style.display = 'none';

        // Show success message
        alert('‚úÖ PDF with headers and footers has been downloaded successfully!');
      } catch (error) {
        console.error('Error applying headers/footers:', error);
        loadingIndicator.style.display = 'none';
        alert('Failed to apply headers/footers. Please try again.');
      }
    });
  </script>
</body>
</html>
