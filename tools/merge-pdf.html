<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Merge PDF Files Online Free - Combine Multiple PDFs | JustPdf</title>
  <meta name="description" content="Merge multiple PDF files into one document online for free. Combine PDFs in any order. Fast, secure, and easy to use. No registration required.">
  <meta property="og:title" content="Merge PDF - Combine PDF Files Online Free">
  <meta property="og:description" content="Merge multiple PDFs into one file. Free, fast, and secure. No registration required.">
  <meta property="og:url" content="https://justpdf.net/tools/merge-pdf/">
  <meta property="og:type" content="website">
  <link rel="canonical" href="https://justpdf.net/tools/merge-pdf/">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "How do I merge PDF files online?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Select multiple PDF files, arrange them in the order you want, and click 'Merge PDFs'. Download the combined file when ready. All processing happens in your browser for complete privacy."
        }
      },
      {
        "@type": "Question",
        "name": "Is it free to merge PDFs?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! JustPdf offers unlimited free PDF merging with no file size limits, no watermarks, and no registration required."
        }
      },
      {
        "@type": "Question",
        "name": "Is it safe to merge PDFs online?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, absolutely. All merging happens in your browser. Your files never leave your device and are not uploaded to any server."
        }
      }
    ]
  }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body class="bg-gray-50">
  <!-- Navigation -->
  <nav class="bg-white shadow-sm py-4 px-6 flex justify-between items-center">
    <a href="/" class="flex items-center">
      <span class="font-bold text-2xl text-green-700">JustPdf</span>
    </a>
    <ul class="flex space-x-6 text-gray-700 text-base">
      <li><a href="/" class="hover:text-green-700 transition font-semibold">All Tools</a></li>
      <li><a href="/about.html" class="hover:text-green-700 transition">About</a></li>
    </ul>
  </nav>

  <main class="max-w-4xl mx-auto px-4 py-12">
    <h1 class="text-4xl font-bold text-gray-800 mb-4 text-center">Merge PDF Files</h1>
    <p class="text-gray-600 text-center mb-8">Combine multiple PDF files into one document</p>

    <!-- Upload Area -->
    <div id="uploadArea" class="border-2 border-dashed border-gray-300 rounded-lg p-12 text-center mb-6 bg-white hover:border-green-500 transition cursor-pointer">
      <div class="text-6xl mb-4">üìÑ</div>
      <h2 class="text-xl font-semibold text-gray-700 mb-2">Select PDF Files</h2>
      <p class="text-gray-500 mb-4">Drag and drop files here or click to browse</p>
      <input type="file" id="fileInput" accept=".pdf" multiple class="hidden">
      <button id="selectBtn" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition font-semibold">
        Select Files
      </button>
    </div>

    <!-- File List -->
    <div id="fileList" class="mb-6 hidden">
      <h3 class="font-bold text-lg mb-3">Selected Files:</h3>
      <div id="fileListItems" class="space-y-2"></div>
    </div>

    <!-- Progress Bar -->
    <div id="progressContainer" class="hidden mb-6">
      <div class="bg-gray-200 rounded-full h-4 overflow-hidden">
        <div id="progressBar" class="bg-green-600 h-full transition-all duration-300" style="width: 0%"></div>
      </div>
      <p id="progressText" class="text-center text-gray-600 mt-2">Processing...</p>
    </div>

    <!-- Merge Button -->
    <div id="actionContainer" class="text-center mb-6 hidden">
      <button id="mergeBtn" class="bg-green-600 text-white px-8 py-4 rounded-lg hover:bg-green-700 transition font-bold text-lg">
        Merge PDFs
      </button>
    </div>

    <!-- Download Button -->
    <div id="downloadContainer" class="text-center mb-8 hidden">
      <button id="downloadBtn" class="bg-blue-600 text-white px-8 py-4 rounded-lg hover:bg-blue-700 transition font-bold text-lg">
        üì• Download Merged PDF
      </button>
      <p class="text-gray-600 mt-4">Your merged PDF is ready!</p>
    </div>

    <!-- AdSense Unit 1 (After Tool Interface) -->
    <div class="mt-12 flex justify-center">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
           data-ad-slot="1234567890"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>

    <!-- SEO Content -->
    <article class="prose prose-lg max-w-none mt-16 bg-white rounded-lg p-8 shadow-sm">
      <h2 class="text-3xl font-bold text-gray-800 mb-4">How to Merge PDF Files Online Free</h2>
      <p class="text-gray-700 mb-6">Combining multiple PDF files into a single document has never been easier. JustPdf's online merge tool lets you select multiple PDFs, arrange them in any order, and merge them into one unified file - all for free with no registration required. Perfect for consolidating documents, creating reports, or organizing files. All processing happens securely in your browser, so your files never leave your device.</p>
      
      <h3 class="text-2xl font-semibold text-gray-800 mt-8 mb-3">Why Merge PDF Files?</h3>
      <p class="text-gray-700 mb-4">Merging PDFs simplifies document management and sharing:</p>
      <ul class="list-disc pl-6 mb-6 text-gray-700 space-y-2">
        <li><strong>Document consolidation:</strong> Combine related files into one organized document</li>
        <li><strong>Easy sharing:</strong> Send one file instead of multiple attachments</li>
        <li><strong>Professional reports:</strong> Create comprehensive reports from multiple sources</li>
        <li><strong>Portfolio creation:</strong> Combine work samples, resumes, and certificates</li>
        <li><strong>Book or thesis assembly:</strong> Merge chapters into a complete manuscript</li>
        <li><strong>Invoice compilation:</strong> Combine multiple invoices or receipts for record-keeping</li>
      </ul>

      <h3 class="text-2xl font-semibold text-gray-800 mt-8 mb-3">Merge Features</h3>
      
      <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">üìÅ Multi-File Selection</h4>
      <p class="text-gray-700 mb-4">Select multiple PDF files at once from your device. No limit on the number of files you can merge - combine 2, 10, or 100+ PDFs in one operation.</p>

      <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">üîÑ Drag & Drop Reordering</h4>
      <p class="text-gray-700 mb-4">Easily rearrange your PDFs by dragging and dropping them into the desired order. The final merged document will follow your custom arrangement.</p>

      <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">üëÅÔ∏è File Preview</h4>
      <p class="text-gray-700 mb-4">See thumbnail previews and file names before merging. Verify you've selected the correct files and arranged them properly.</p>

      <h4 class="text-xl font-semibold text-gray-800 mt-6 mb-2">‚ö° Instant Processing</h4>
      <p class="text-gray-700 mb-4">Merge PDFs in seconds with our fast client-side processing. No waiting for server uploads or processing queues.</p>

      <h3 class="text-2xl font-semibold text-gray-800 mt-8 mb-3">How to Merge PDFs in 3 Simple Steps</h3>
      <ol class="list-decimal pl-6 mb-6 text-gray-700 space-y-3">
        <li><strong>Select your PDF files:</strong> Click "Select Files" and choose all the PDFs you want to merge. You can select multiple files at once from any folder on your device.</li>
        <li><strong>Arrange the order:</strong> Drag and drop the files to arrange them in the order you want them to appear in the final merged document. The first file in the list will be first in the merged PDF.</li>
        <li><strong>Merge and download:</strong> Click "Merge PDFs" to combine all files into one. The merged PDF downloads automatically once processing is complete.</li>
      </ol>

      <h3 class="text-2xl font-semibold text-gray-800 mt-8 mb-3">Key Features</h3>
      <div class="grid md:grid-cols-2 gap-4 mb-6">
        <div class="bg-green-50 p-4 rounded-lg">
          <h4 class="font-semibold text-green-700 mb-2">üöÄ Unlimited Merging</h4>
          <p class="text-sm text-gray-700">Merge unlimited PDFs with no restrictions on file count or total size.</p>
        </div>
        <div class="bg-green-50 p-4 rounded-lg">
          <h4 class="font-semibold text-green-700 mb-2">üîí 100% Private</h4>
          <p class="text-sm text-gray-700">All merging happens in your browser. Your PDFs never leave your device.</p>
        </div>
        <div class="bg-green-50 p-4 rounded-lg">
          <h4 class="font-semibold text-green-700 mb-2">üíØ Completely Free</h4>
          <p class="text-sm text-gray-700">No subscriptions, trials, or hidden costs. Merge unlimited PDFs free forever.</p>
        </div>
        <div class="bg-green-50 p-4 rounded-lg">
          <h4 class="font-semibold text-green-700 mb-2">üéØ Custom Order</h4>
          <p class="text-sm text-gray-700">Drag and drop files to arrange them exactly how you want them merged.</p>
        </div>
        <div class="bg-green-50 p-4 rounded-lg">
          <h4 class="font-semibold text-green-700 mb-2">‚ö° Fast Processing</h4>
          <p class="text-sm text-gray-700">Client-side merging means instant results with no upload delays.</p>
        </div>
        <div class="bg-green-50 p-4 rounded-lg">
          <h4 class="font-semibold text-green-700 mb-2">‚úÖ No Watermarks</h4>
          <p class="text-sm text-gray-700">Merged PDFs have no watermarks or branding. Professional, clean output.</p>
        </div>
      </div>

      <h3 class="text-2xl font-semibold text-gray-800 mt-8 mb-3">Frequently Asked Questions</h3>
      
      <div class="bg-gray-50 p-6 rounded-lg mb-4">
        <h4 class="font-semibold text-gray-800 mb-2">How do I merge PDF files online?</h4>
        <p class="text-gray-700">Click the "Select Files" button above, choose all the PDF files you want to merge, arrange them by dragging into your preferred order, then click "Merge PDFs". Your combined document will download automatically.</p>
      </div>

      <div class="bg-gray-50 p-6 rounded-lg mb-4">
        <h4 class="font-semibold text-gray-800 mb-2">Is it free to merge PDFs?</h4>
        <p class="text-gray-700">Yes! JustPdf offers completely free PDF merging with no file size limits, no page count limits, no watermarks, and no registration required. Merge unlimited PDFs at no cost.</p>
      </div>

      <div class="bg-gray-50 p-6 rounded-lg mb-4">
        <h4 class="font-semibold text-gray-800 mb-2">Is it safe to merge PDFs online?</h4>
        <p class="text-gray-700">Yes, absolutely. All merging is done client-side in your browser using JavaScript. Your PDF files never leave your device and are not uploaded to any server. We cannot see, access, or store your documents.</p>
      </div>

      <div class="bg-gray-50 p-6 rounded-lg mb-4">
        <h4 class="font-semibold text-gray-800 mb-2">How many PDFs can I merge at once?</h4>
        <p class="text-gray-700">There's no hard limit! You can merge as many PDF files as your browser can handle. We've tested with 100+ files successfully. The only constraint is your device's memory.</p>
      </div>

      <div class="bg-gray-50 p-6 rounded-lg mb-4">
        <h4 class="font-semibold text-gray-800 mb-2">Can I change the order of PDFs before merging?</h4>
        <p class="text-gray-700">Yes! Simply drag and drop the files in the preview area to rearrange them. The files will be merged in the order shown, from top to bottom.</p>
      </div>

      <div class="bg-gray-50 p-6 rounded-lg mb-4">
        <h4 class="font-semibold text-gray-800 mb-2">Will merging reduce my PDF quality?</h4>
        <p class="text-gray-700">No! The merging process preserves all original content, formatting, images, fonts, and quality. The merged PDF contains exact copies of all pages from your source documents.</p>
      </div>

      <div class="bg-gray-50 p-6 rounded-lg mb-4">
        <h4 class="font-semibold text-gray-800 mb-2">What if my PDFs have different page sizes?</h4>
        <p class="text-gray-700">No problem! Each page in the merged PDF retains its original size. If you need uniform page sizes, use our Resize PDF tool after merging.</p>
      </div>

      <div class="bg-gray-50 p-6 rounded-lg mb-4">
        <h4 class="font-semibold text-gray-800 mb-2">Can I remove a file after selecting it?</h4>
        <p class="text-gray-700">Yes! If you accidentally select a wrong file, simply remove it from the list before clicking "Merge PDFs". You have full control over which files are included.</p>
      </div>

      <h3 class="text-2xl font-semibold text-gray-800 mt-8 mb-3">Common Use Cases</h3>
      <ul class="list-disc pl-6 mb-6 text-gray-700 space-y-2">
        <li><strong>Business reports:</strong> Combine executive summaries, financial data, and appendices into one report</li>
        <li><strong>Job applications:</strong> Merge resume, cover letter, portfolio samples, and references</li>
        <li><strong>Academic work:</strong> Combine thesis chapters, bibliography, and appendices</li>
        <li><strong>Legal documents:</strong> Merge contracts, exhibits, and supporting documentation</li>
        <li><strong>Scanned documents:</strong> Combine multiple scanned pages into one searchable document</li>
        <li><strong>Invoices and receipts:</strong> Consolidate monthly invoices for accounting</li>
        <li><strong>Presentations:</strong> Merge multiple presentation files for a complete pitch deck</li>
        <li><strong>E-books:</strong> Combine chapter PDFs into a complete book</li>
      </ul>

      <h3 class="text-2xl font-semibold text-gray-800 mt-8 mb-3">Tips for Best Results</h3>
      <ul class="list-disc pl-6 mb-6 text-gray-700 space-y-2">
        <li>Arrange files in the correct order before merging to avoid re-doing the process</li>
        <li>Use descriptive file names to easily identify PDFs in the list</li>
        <li>For large merges (50+ files), ensure your device has sufficient RAM</li>
        <li>If merging scanned documents, ensure they're all right-side up before merging</li>
        <li>Consider adding page numbers after merging for better navigation</li>
        <li>For professional documents, ensure all source PDFs have consistent formatting</li>
        <li>Keep original files as backups before merging, just in case</li>
        <li>If the merged file is too large, use our Compress PDF tool to reduce size</li>
      </ul>

      <h3 class="text-2xl font-semibold text-gray-800 mt-8 mb-3">Why Choose JustPdf Merge Tool?</h3>
      <p class="text-gray-700 mb-4">Unlike desktop software that requires installation and updates, or online services that upload your files to remote servers, JustPdf offers the perfect combination of convenience and security. Our browser-based merge tool uses advanced client-side PDF manipulation to combine files instantly without any uploads. You get professional results with unlimited file merging, drag-and-drop reordering, and fast processing - all completely free with no registration. Whether you're a business professional consolidating reports, a student merging thesis chapters, or anyone who needs to combine PDFs, our tool delivers fast, reliable, and completely private PDF merging every time.</p>
    </article>

    <!-- Related Tools -->
    <section class="mt-12 bg-white rounded-lg p-8 shadow-sm">
      <h3 class="text-2xl font-bold mb-6 text-gray-800">Related PDF Tools</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <a href="/tools/split-pdf.html" class="block p-6 bg-gray-50 rounded-lg hover:shadow-lg transition border-2 border-transparent hover:border-green-500 text-center">
          <div class="text-3xl mb-2">‚úÇÔ∏è</div>
          <span class="font-semibold text-green-700">Split PDF</span>
        </a>
        <a href="/tools/compress-pdf.html" class="block p-6 bg-gray-50 rounded-lg hover:shadow-lg transition border-2 border-transparent hover:border-green-500 text-center">
          <div class="text-3xl mb-2">üóúÔ∏è</div>
          <span class="font-semibold text-green-700">Compress PDF</span>
        </a>
        <a href="/tools/pdf-editor.html" class="block p-6 bg-gray-50 rounded-lg hover:shadow-lg transition border-2 border-transparent hover:border-green-500 text-center">
          <div class="text-3xl mb-2">‚úèÔ∏è</div>
          <span class="font-semibold text-green-700">PDF Editor</span>
        </a>
        <a href="/tools/organize-pages.html" class="block p-6 bg-gray-50 rounded-lg hover:shadow-lg transition border-2 border-transparent hover:border-green-500 text-center">
          <div class="text-3xl mb-2">ÔøΩ</div>
          <span class="font-semibold text-green-700">Organize Pages</span>
        </a>
      </div>
    </section>

    <!-- AdSense Unit 2 (After SEO Content) -->
    <div class="mt-12 flex justify-center">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
           data-ad-slot="0987654321"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
  </main>
        <a href="/tools/rotate-pdf.html" class="p-4 bg-white rounded-lg shadow hover:shadow-lg transition text-center">
          <div class="text-3xl mb-2">üîÑ</div>
          <div class="font-semibold text-gray-700">Rotate PDF</div>
        </a>
        <a href="/tools/organize-pages.html" class="p-4 bg-white rounded-lg shadow hover:shadow-lg transition text-center">
          <div class="text-3xl mb-2">üìã</div>
          <div class="font-semibold text-gray-700">Organize Pages</div>
        </a>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <!-- Universal Footer for JustPDF - Use this exact footer on ALL pages -->
<!-- Copy and paste this entire footer before </body> tag on every HTML page -->

<footer class="bg-gray-800 text-white py-8 mt-16">
  <div class="max-w-6xl mx-auto px-4">
    <!-- Main Footer Content -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
      <!-- About Section -->
      <div>
        <h3 class="font-bold text-lg mb-4 text-green-400">JustPdf</h3>
        <p class="text-gray-300 text-sm leading-relaxed">
          Free online PDF tools for everyone. Convert, edit, and manage your PDF files securely in your browser.
        </p>
      </div>
      
      <!-- Popular Tools -->
      <div>
        <h3 class="font-bold text-sm mb-4 text-gray-300">Popular Tools</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="/tools/word-to-pdf.html" class="text-gray-400 hover:text-green-400 transition">Word to PDF</a></li>
          <li><a href="/tools/excel-to-pdf.html" class="text-gray-400 hover:text-green-400 transition">Excel to PDF</a></li>
          <li><a href="/tools/ppt-to-pdf.html" class="text-gray-400 hover:text-green-400 transition">PPT to PDF</a></li>
          <li><a href="/tools/merge-pdf.html" class="text-gray-400 hover:text-green-400 transition">Merge PDF</a></li>
          <li><a href="/tools/compress-pdf.html" class="text-gray-400 hover:text-green-400 transition">Compress PDF</a></li>
        </ul>
      </div>
      
      <!-- More Tools -->
      <div>
        <h3 class="font-bold text-sm mb-4 text-gray-300">More Tools</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="/tools/split-pdf.html" class="text-gray-400 hover:text-green-400 transition">Split PDF</a></li>
          <li><a href="/tools/rotate-pdf.html" class="text-gray-400 hover:text-green-400 transition">Rotate PDF</a></li>
          <li><a href="/tools/pdf-editor.html" class="text-gray-400 hover:text-green-400 transition">Edit PDF</a></li>
          <li><a href="/tools/protect-pdf.html" class="text-gray-400 hover:text-green-400 transition">Protect PDF</a></li>
          <li><a href="/" class="text-gray-400 hover:text-green-400 transition">All Tools ‚Üí</a></li>
        </ul>
      </div>
      
      <!-- Company -->
      <div>
        <h3 class="font-bold text-sm mb-4 text-gray-300">Company</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="/about.html" class="text-gray-400 hover:text-green-400 transition">About Us</a></li>
          <li><a href="/contact.html" class="text-gray-400 hover:text-green-400 transition">Contact</a></li>
          <li><a href="/privacy-policy.html" class="text-gray-400 hover:text-green-400 transition">Privacy Policy</a></li>
          <li><a href="/terms-of-use.html" class="text-gray-400 hover:text-green-400 transition">Terms of Use</a></li>
        </ul>
      </div>
    </div>
    
    <!-- Divider -->
    <div class="border-t border-gray-700 pt-6">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <!-- Copyright -->
        <p class="text-gray-400 text-sm mb-4 md:mb-0">
          &copy; 2026 JustPdf.net - All rights reserved
        </p>
        
        <!-- Legal Links -->
        <div class="flex flex-wrap justify-center gap-6 text-sm">
          <a href="/privacy-policy.html" class="text-gray-400 hover:text-green-400 transition">Privacy Policy</a>
          <a href="/terms-of-use.html" class="text-gray-400 hover:text-green-400 transition">Terms of Use</a>
          <a href="/contact.html" class="text-gray-400 hover:text-green-400 transition">Contact</a>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- End of Universal Footer -->


  <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script>
    // Merge PDF Tool - Inline Implementation
    let selectedFiles = [];

    document.addEventListener('DOMContentLoaded', () => {
      const uploadArea = document.getElementById('uploadArea');
      const fileInput = document.getElementById('fileInput');
      const selectBtn = document.getElementById('selectBtn');
      const fileList = document.getElementById('fileList');
      const fileListItems = document.getElementById('fileListItems');
      const actionContainer = document.getElementById('actionContainer');
      const mergeBtn = document.getElementById('mergeBtn');
      const progressContainer = document.getElementById('progressContainer');
      const progressBar = document.getElementById('progressBar');
      const progressText = document.getElementById('progressText');
      const downloadContainer = document.getElementById('downloadContainer');
      const downloadBtn = document.getElementById('downloadBtn');

      selectBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        fileInput.click();
      });
      
      uploadArea.addEventListener('click', (e) => {
        if (e.target !== selectBtn && !selectBtn.contains(e.target)) {
          fileInput.click();
        }
      });

      uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('border-green-500', 'bg-green-50');
      });

      uploadArea.addEventListener('dragleave', () => {
        uploadArea.classList.remove('border-green-500', 'bg-green-50');
      });

      uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('border-green-500', 'bg-green-50');
        const files = Array.from(e.dataTransfer.files).filter(f => f.type === 'application/pdf');
        if (files.length > 0) handleFiles(files);
      });

      fileInput.addEventListener('change', (e) => {
        const files = Array.from(e.target.files);
        console.log('Files selected:', files.length, files.map(f => f.name));
        if (files.length > 0) handleFiles(files);
      });

      function handleFiles(files) {
        selectedFiles = [...selectedFiles, ...files];
        console.log('Total files now:', selectedFiles.length);
        updateFileList();
        fileList.classList.remove('hidden');
        actionContainer.classList.remove('hidden');
      }

      function updateFileList() {
        fileListItems.innerHTML = '';
        selectedFiles.forEach((file, index) => {
          const item = document.createElement('div');
          item.className = 'flex items-center justify-between bg-white p-3 rounded border';
          item.innerHTML = `
            <div class="flex items-center space-x-3">
              <span class="text-2xl">üìÑ</span>
              <div>
                <div class="font-semibold">${file.name}</div>
                <div class="text-sm text-gray-500">${(file.size / 1024 / 1024).toFixed(2)} MB</div>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <button class="move-up px-2 py-1 text-gray-600 hover:text-green-600" onclick="moveUp(${index})" ${index === 0 ? 'disabled' : ''}>‚Üë</button>
              <button class="move-down px-2 py-1 text-gray-600 hover:text-green-600" onclick="moveDown(${index})" ${index === selectedFiles.length - 1 ? 'disabled' : ''}>‚Üì</button>
              <button class="remove px-2 py-1 text-red-600 hover:text-red-800" onclick="removeFile(${index})">‚úï</button>
            </div>
          `;
          fileListItems.appendChild(item);
        });
      }

      window.moveUp = (index) => {
        if (index > 0) {
          [selectedFiles[index - 1], selectedFiles[index]] = [selectedFiles[index], selectedFiles[index - 1]];
          updateFileList();
        }
      };

      window.moveDown = (index) => {
        if (index < selectedFiles.length - 1) {
          [selectedFiles[index], selectedFiles[index + 1]] = [selectedFiles[index + 1], selectedFiles[index]];
          updateFileList();
        }
      };

      window.removeFile = (index) => {
        selectedFiles.splice(index, 1);
        updateFileList();
        if (selectedFiles.length === 0) {
          fileList.classList.add('hidden');
          actionContainer.classList.add('hidden');
        }
      };

      mergeBtn.addEventListener('click', async () => {
        if (selectedFiles.length < 2) {
          alert('Please select at least 2 PDF files to merge');
          return;
        }

        console.log('Starting merge with', selectedFiles.length, 'files');

        try {
          progressContainer.classList.remove('hidden');
          actionContainer.classList.add('hidden');
          progressBar.style.width = '0%';
          progressText.textContent = 'Preparing files...';

          const { PDFDocument } = PDFLib;
          const mergedPdf = await PDFDocument.create();
          
          for (let i = 0; i < selectedFiles.length; i++) {
            const progress = (i / selectedFiles.length) * 80;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `Processing file ${i + 1} of ${selectedFiles.length}...`;
            
            console.log(`Processing file ${i + 1}:`, selectedFiles[i].name);

            const arrayBuffer = await selectedFiles[i].arrayBuffer();
            const pdf = await PDFDocument.load(arrayBuffer);
            const pageCount = pdf.getPageCount();
            console.log(`File ${i + 1} has ${pageCount} pages`);
            
            const copiedPages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
            copiedPages.forEach((page) => mergedPdf.addPage(page));
          }

          progressBar.style.width = '90%';
          progressText.textContent = 'Finalizing merge...';

          const mergedPdfBytes = await mergedPdf.save();
          
          progressBar.style.width = '100%';
          progressText.textContent = 'Complete!';

          console.log('Merge complete, file size:', mergedPdfBytes.length, 'bytes');

          const blob = new Blob([mergedPdfBytes], { type: 'application/pdf' });
          const url = URL.createObjectURL(blob);

          downloadBtn.onclick = () => {
            const a = document.createElement('a');
            a.href = url;
            a.download = 'merged.pdf';
            a.click();
          };

          setTimeout(() => {
            progressContainer.classList.add('hidden');
            downloadContainer.classList.remove('hidden');
          }, 500);

        } catch (error) {
          console.error('Merge error:', error);
          alert('Failed to merge PDFs: ' + error.message + '. Please try again.');
          progressContainer.classList.add('hidden');
          actionContainer.classList.remove('hidden');
        }
      });
    });

    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</body>
</html>
